# JVM 如何执行方法调用(一)

有如下两个`Java`方法：

```java
void invoke(Object obj, Object... args) {
}
void invoke(String s, Object obj, Object... args) {
}
```

当执行`invoke(null, 1)`时，这个`invoke`调用有二义性。然而，`Java`编译器直接将方法调用识别为调用第二个方法，这究竟是为什么呢？

## 重载与重写

如果在同一个类中定义名字相同的方法，那么它们的参数列表必须不同。这称为方法重载。除了同一个类中的方法，重载也可以作用于这个类所继承而来的方法。

重载的方法在编译过程中即可完成识别。具体到每一个方法调用，`Java`编译器会根据所传入参数的声明类型来选取重载方法。

1. 在不考虑对基本类型自动装拆箱，以及可变长参数的情况下选取重载方法；
2. 如果在第`1`个阶段中没有找到适配的方法，那么在允许自动装拆箱，但不允许可变长参数的情况下选取重载方法；
3. 如果在第`2`个阶段中没有找到适配的方法，那么在允许自动装拆箱以及可变长参数的情况下选取重载方法。

如果`Java`编译器在同一个阶段中找到了多个适配的方法，那么它会在其中选择一个最为贴切的，而决定贴切程度的一个关键就是形式参数类型的继承关系。

在开头的例子中，当传入`null`时，它既可以匹配第一个方法中声明为`Object`的形式参数，也可以匹配第二个方法中声明为`String`的形式参数。由于`String`是`Object`的子类，因此`Java`编译器会认为第二个方法更为贴切。

## 静态绑定和动态绑定